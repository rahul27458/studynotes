!!! 5
<!--[if lt IE 9]> <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

head
  include includes/head

body(class='#{locals.cls}')

  header#header
    ul.left
      li.home
        a(href='/', title='Go to the front page of StudyNotes', class='home #{locals.cls == 'home' ? 'current' : ''}') Study Notes
    div.search.off
      form(action='/search/', method='GET')
        input(autocorrect='off', autocomplete='off', autofocus, name='q', placeholder='Search for AP Courses and Topics...', type='text', value='#{locals.search_term}')
    ul.right
      each item, cls in locals.topnav
        li: a(href='#{item.url}', class='#{cls} #{locals.cls == cls ? 'current' : ''}')= item.shortname

  #browseWrapper
    ul#browse
      each course in locals.courses
        li
          h2: a(href='/#{course.slug}/')= course.name
          ul
            each notetype in course.notetypes
              li: a(href='/#{course.slug}/#{notetype.slug}/')= notetype.name

  #container

    #contentWrapper
      #content
        block content

    #sidebar
      include includes/sidebar

  //- footer#footer
  //-   include includes/footer
  
  //- Scripts
  //- TODO: concat all scripts together into one.

  if (locals.env == "development")
    script(src='/javascripts/libs/jquery-1.8.2.js')

  else
    script(src='/javascripts/libs/jquery-1.8.2.min.js')

  script(src='/javascripts/client.js')

  if (locals.env == "development")
    | <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>

  // TODO: add https://github.com/scottjehl/Respond/

  // Quantcast
  script
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-69FZJwoXOxhpY"
    });
  noscript
    div(style='display:none;')
      img(src='//pixel.quantserve.com/pixel/p-69FZJwoXOxhpY.gif', height='1', width='1', alt='Quantcast', style='border: none;')

  // Google
  script
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3898076-4']);
    _gaq.push(['_setDomainName', 'apstudynotes.org']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  
  // StatCounter
  script
    var sc_project=3533945; 
    var sc_invisible=1; 
    var sc_security="1577ef81";
  script(src='http://www.statcounter.com/counter/counter.js')
  noscript
    div.statcounter
      img.statcounter(src='http://c.statcounter.com/3533945/0/1577ef81/1/', alt='')

</html>